post:
  tags:
    - Commons
  summary: 文件上传通用接口
  description: |
    统一上传图片，返回文件信息。
    - 支持格式: JPEG, PNG
    - 文件大小限制: ≤5MB
    - 学生证认证图片请使用 /users/me/certification 专用接口
  operationId: uploadFile
  requestBody:
    required: true
    content:
      multipart/form-data:
        schema:
          type: object
          required:
            - file
            - type
          properties:
            file:
              type: string
              format: binary
              description: 上传的文件（JPEG/PNG，≤5MB）
            type:
              type: string
              enum:
                - avatar
                - background
              description: |
                文件用途类型:
                - avatar: 用户头像
                - background: 背景图片
  responses:
    "200":
      description: 上传成功
      content:
        application/json:
          schema:
            allOf:
              - $ref: ../components/schemas/BaseResponse.yaml
              - type: object
                properties:
                  data:
                    type: object
                    properties:
                      fileId:
                        type: string
                        description: 文件唯一标识
                        example: f47ac10b-58cc-4372-a567-0e02b2c3d479
                      url:
                        type: string
                        description: 文件访问URL
                        example: https://cdn.example.com/uploads/123.jpg
                      size:
                        type: integer
                        description: 文件大小（字节）
                        example: 204800
                      mimeType:
                        type: string
                        description: 文件MIME类型
                        example: image/jpeg
